# GameServer_Programming - μ±„ν… λ©”μ‹μ§€ μ§€μ—°μ‹κ°„ μΈ΅μ • μ‹μ¤ν… κµ¬ν„

## π― μ‘μ—… κ°μ” (μμ •λ¨)
ν•‘ν ν¨ν‚·μ„ λ³„λ„λ΅ λ§λ“¤μ§€ μ•κ³ , **κΈ°μ΅΄ μ±„ν… λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μ„ λ•μ μ§€μ—°μ‹κ°„μ„ μΈ΅μ •**ν•μ—¬ μ„λ²„ μ½μ†”μ— ν‘μ‹ν•λ” μ‹μ¤ν…μΌλ΅ λ³€κ²½ν–μµλ‹λ‹¤.

## π“¦ κµ¬ν„λ κΈ°λ¥

### 1. μ„λ²„ μΈ΅ μ§€μ—°μ‹κ°„ μΈ΅μ •
**ChattingProcess.cppμ C_REQ_CHATTING ν•¨μμ—μ„ μΈ΅μ •:**
- **λ„¤νΈμ›ν¬ μ§€μ—°μ‹κ°„**: ν΄λΌμ΄μ–ΈνΈκ°€ λ©”μ‹μ§€λ¥Ό λ³΄λ‚Έ μ‹κ°„ vs μ„λ²„κ°€ λ°›μ€ μ‹κ°„
- **μ„λ²„ μ²λ¦¬μ‹κ°„**: λ©”μ‹μ§€ μμ‹ λ¶€ν„° μ‘λ‹µ μƒμ„±κΉμ§€μ μ‹κ°„
- **μ΄ μ§€μ—°μ‹κ°„**: λ„¤νΈμ›ν¬ μ§€μ—°μ‹κ°„ + μ„λ²„ μ²λ¦¬μ‹κ°„

### 2. ν¨ν‚· κµ¬μ΅° μμ •
**μ„λ²„ μΈ΅ (C++):**
- `PK_C_REQ_CHATTING`μ— `clientTimestamp_` ν•„λ“ μ¶”κ°€ (ν΄λΌμ΄μ–ΈνΈκ°€ λ©”μ‹μ§€λ¥Ό λ³΄λ‚Έ μ‹κ°„)
- `PK_S_ANS_CHATTING`μ— `serverTimestamp_` ν•„λ“ μ¶”κ°€ (μ„λ²„κ°€ μ‘λ‹µμ„ λ³΄λ‚Έ μ‹κ°„)

**ν΄λΌμ΄μ–ΈνΈ μΈ΅ (C#):**
- `PK_C_REQ_CHATTING`μ— `clientTimestamp_` ν•„λ“ μ¶”κ°€
- `PK_S_ANS_CHATTING`μ— `serverTimestamp_` ν•„λ“ μ¶”κ°€

### 3. ν΄λΌμ΄μ–ΈνΈ μΈ΅ κΈ°λ¥
**ChattingForm.cs:**
- λ©”μ‹μ§€ μ „μ†΅ μ‹ ν„μ¬ μ‹κ°„(`Environment.TickCount64`) ν¬ν•¨
- μ „μ†΅ν• λ©”μ‹μ§€μ μ‹κ°„μ„ Dictionaryμ— μ €μ¥ (RTT κ³„μ‚°μ„ μ„ν•΄)

**ChattingContents.cs:**
- λ©”μ‹μ§€ μμ‹  μ‹ ν„μ¬ μ‹κ°„ κΈ°λ΅
- λ©”μ‹μ§€μ— μμ‹  μ‹κ°„ ν‘μ‹ μ¶”κ°€

### 4. μΈ΅μ •λλ” μ§€μ—°μ‹κ°„ μ •λ³΄

**μ„λ²„ μ½μ†” μ¶λ ¥ μμ‹:**
```
* [CHAT_LATENCY] User: [ν™κΈΈλ™] | Network: 25ms | Processing: 3ms | Total: 28ms
```

**μΈ΅μ • ν•­λ©:**
- **Network**: ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ λ„¤νΈμ›ν¬ μ „μ†΅ μ‹κ°„
- **Processing**: μ„λ²„μ—μ„ λ©”μ‹μ§€ μ²λ¦¬ μ‹κ°„  
- **Total**: μ „μ²΄ μ§€μ—°μ‹κ°„ (Network + Processing)

## π”§ μΈ΅μ • λ°©μ‹
1. **ν΄λΌμ΄μ–ΈνΈ**: μ±„ν… λ©”μ‹μ§€ μ „μ†΅ μ‹ ν„μ¬ μ‹κ°„(`clientTimestamp_`) ν¬ν•¨
2. **μ„λ²„**: λ©”μ‹μ§€ μμ‹  μ‹κ°„κ³Ό ν΄λΌμ΄μ–ΈνΈ νƒ€μ„μ¤νƒ¬ν”„ λΉ„κµλ΅ λ„¤νΈμ›ν¬ μ§€μ—°μ‹κ°„ κ³„μ‚°
3. **μ„λ²„**: λ©”μ‹μ§€ μ²λ¦¬ μ‹μ‘λ¶€ν„° μ‘λ‹µ μƒμ„±κΉμ§€μ μ‹κ°„ μΈ΅μ •
4. **μ„λ²„ μ½μ†”**: μ‚¬μ©μλ³„ μƒμ„Έ μ§€μ—°μ‹κ°„ μ •λ³΄ μ¶λ ¥
5. **μ„λ²„**: μ‘λ‹µ λ©”μ‹μ§€μ— μ„λ²„ νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨ν•μ—¬ μ „μ†΅
6. **ν΄λΌμ΄μ–ΈνΈ**: μ‘λ‹µ μμ‹  μ‹ μ‹κ°„ ν‘μ‹

## π“ ν‘μ‹λλ” μ •λ³΄
**μ„λ²„ μ½μ†”λ§:**
- μ‚¬μ©μ μ΄λ¦„
- λ„¤νΈμ›ν¬ μ§€μ—°μ‹κ°„ (ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„)
- μ„λ²„ μ²λ¦¬μ‹κ°„
- μ΄ μ§€μ—°μ‹κ°„

**ν΄λΌμ΄μ–ΈνΈ:**
- κΈ°μ΅΄ λ°©μ‹λ€λ΅ λ‹¨μν• μ±„ν… λ©”μ‹μ§€λ§ ν‘μ‹ (μ§€μ—°μ‹κ°„ μ •λ³΄ μ—†μ)

## π€ μ‚¬μ© λ°©λ²•
1. **μ±„ν… μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰**
2. **μ±„ν… λ©”μ‹μ§€ μ „μ†΅**: μΌλ°μ μΌλ΅ μ±„ν…μ°½μ— λ©”μ‹μ§€ μ…λ ¥ ν›„ Enter
3. **μ„λ²„ μ½μ†” ν™•μΈ**: λ©”μ‹μ§€λ§λ‹¤ μ‹¤μ‹κ°„ μ§€μ—°μ‹κ°„ μ •λ³΄ ν‘μ‹
4. **ν΄λΌμ΄μ–ΈνΈ**: κΈ°μ΅΄κ³Ό λ™μΌν• κΉ”λ”ν• μ±„ν… ν™”λ©΄

## π“ μμ •λ μ½”λ“ μ„μΉ
**μ„λ²„ μΈ΅ (C++):**
- `ServerLibrary/Net/Packet/PacketClass.h` : μ±„ν… ν¨ν‚·μ— νƒ€μ„μ¤νƒ¬ν”„ ν•„λ“ μ¶”κ°€
- `ChattingServer/Server/ChattingProcess.cpp` : μ§€μ—°μ‹κ°„ μΈ΅μ • λ° μ½μ†” μ¶λ ¥

**ν΄λΌμ΄μ–ΈνΈ μΈ΅ (C#):**
- `DummyClient/Source/PacketGen/PacketClass.cs` : μ±„ν… ν¨ν‚·μ— νƒ€μ„μ¤νƒ¬ν”„ ν•„λ“ μ¶”κ°€
- `DummyClient/ChattingForm.cs` : λ©”μ‹μ§€ μ „μ†΅ μ‹ νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨
- `DummyClient/Source/Chatting/ChattingContents.cs` : κΈ°μ΅΄ λ°©μ‹λ€λ΅ λ‹¨μ λ©”μ‹μ§€ ν‘μ‹

## β… μ™„λ£ μƒνƒ
- β… μ±„ν… ν¨ν‚·μ— νƒ€μ„μ¤νƒ¬ν”„ ν•„λ“ μ¶”κ°€
- β… μ„λ²„ μΈ΅ μ§€μ—°μ‹κ°„ μΈ΅μ • κµ¬ν„
- β… μ„λ²„ μ½μ†”μ— μƒμ„Έ μ§€μ—°μ‹κ°„ μ •λ³΄ μ¶λ ¥
- β… ν΄λΌμ΄μ–ΈνΈ λ©”μ‹μ§€ μ „μ†΅ μ‹ νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨
- β… ν΄λΌμ΄μ–ΈνΈ μ±„ν…μ°½μ€ κΈ°μ΅΄κ³Ό λ™μΌν•κ² κΉ”λ”ν•κ² μ μ§€
- β… λ„¤νΈμ›ν¬ μ§€μ—°μ‹κ°„κ³Ό μ„λ²„ μ²λ¦¬μ‹κ°„ λ¶„λ¦¬ μΈ΅μ •
- β… μ‹¤μ‹κ°„ μ§€μ—°μ‹κ°„ λ¨λ‹ν„°λ§ κ°€λ¥

## π’΅ μ¥μ 
- **μ‹¤μ  μ‚¬μ© ν¨ν„΄ λ°μ**: ν•‘ ν¨ν‚·μ΄ μ•„λ‹ μ‹¤μ  μ±„ν… λ©”μ‹μ§€μ μ§€μ—°μ‹κ°„ μΈ΅μ •
- **μƒμ„Έν• λ¶„μ„**: λ„¤νΈμ›ν¬ μ§€μ—°μ‹κ°„κ³Ό μ„λ²„ μ²λ¦¬μ‹κ°„μ„ λ¶„λ¦¬ν•μ—¬ μΈ΅μ •
- **μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§**: μ±„ν…ν•  λ•λ§λ‹¤ μ¦‰μ‹ μ§€μ—°μ‹κ°„ ν™•μΈ κ°€λ¥
- **μ‚¬μ©μλ³„ μ •λ³΄**: μ–΄λ–¤ μ‚¬μ©μμ λ©”μ‹μ§€μΈμ§€ ν•¨κ» ν‘μ‹
- **μ‚¬μ©μ μΉν™”μ **: ν΄λΌμ΄μ–ΈνΈ μ±„ν…μ°½μ€ κΈ°μ΅΄κ³Ό λ™μΌν•κ² κΉ”λ”ν•κ² μ μ§€
- **κ΄€λ¦¬μ λ³΄κΈ°**: μ„λ²„ κ΄€λ¦¬μλ§ μ½μ†”μ—μ„ μ§€μ—°μ‹κ°„ λ¨λ‹ν„°λ§ κ°€λ¥

## π”„ λ‹¤μ λ€ν™”μ—μ„ μ μ© λ°©λ²•
μ΄ ν…μ¤νΈ νμΌμ λ‚΄μ©μ„ λ‹¤μ λ€ν™” μ‹μ‘ μ‹ μ κ³µν•λ©΄, μ±„ν… λ©”μ‹μ§€ μ§€μ—°μ‹κ°„ μΈ΅μ • μ‹μ¤ν…μ μ „μ²΄ ν„ν™©μ„ νμ•…ν•  μ μμµλ‹λ‹¤. ν•‘ν ν¨ν‚· λ€μ‹  μ‹¤μ  μ±„ν… λ©”μ‹μ§€λ¥Ό ν™μ©ν• λ” μ‹¤μ©μ μΈ μ§€μ—°μ‹κ°„ μΈ΅μ • μ‹μ¤ν…μ΄ κµ¬ν„λμ–΄ μμµλ‹λ‹¤.

## π“ μμƒ μ¶λ ¥ μμ‹
**μ„λ²„ μ½μ†”:**
```
* [CHAT_LATENCY] User: [Alice] | Network: 15ms | Processing: 2ms | Total: 17ms
* [CHAT_LATENCY] User: [Bob] | Network: 23ms | Processing: 3ms | Total: 26ms
* [CHAT_LATENCY] User: [Charlie] | Network: 8ms | Processing: 1ms | Total: 9ms
```

**ν΄λΌμ΄μ–ΈνΈ μ±„ν…μ°½:**
```
Alice-> : μ•λ…•ν•μ„Έμ”!
Bob-> : λ°κ°‘μµλ‹λ‹¤!
Charlie-> : μΆ‹μ€ ν•λ£¨μ…λ‹λ‹¤!
```
(κΈ°μ΅΄κ³Ό λ™μΌν• κΉ”λ”ν• μ±„ν… ν™”λ©΄)
